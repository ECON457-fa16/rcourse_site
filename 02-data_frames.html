<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Data structures</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style type="text/css">

blockquote {
  background-color: #D7ECF7;
  border-color: #318FBF;
  font-size: 1em;
}

blockquote p {
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
}

blockquote h2 {
  font-size: 1.2em;
  font-style: italic;
}
</style>

<link rel="stylesheet" href="libs/font-awesome-4.2.0/css/font-awesome.min.css"/>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 55px;
  margin-top: -55px;
}

.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h4 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h5 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h6 {
  padding-top: 55px;
  margin-top: -55px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Introduction to R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li class="dropdown">
          <a href="formats" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Course Notes <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="00-basics.html">Basics</a></li>
             <li><a href="01-introduction.html">Introduction</a></li>
             <li><a href="02-data_frames.html">Starting With data</a></li>
             <li><a href="03-plotting.html">Plotting with ggplot2</a></li>
             <li><a href="04-subsetting.html">Subsetting data</a></li>
             <li><a href="05-dplyr.html">Data manipulation with dplyr</a></li>
             <li><a href="06-tidyr.html">Data manipulation with tidyr</a></li>
             <li><a href="07-writing-data.html">Writing data</a></li>
             <li><a href="08-basic_stats.html">Basic statistics</a></li>
             <li><a href="09-functions.html">Writing functions</a></li>
             <li><a href="10-control-flow.html">Control flow</a></li>
             <!--<li><a href="11-all-together.html">Putting it all Together</a></li>-->
             <li><a href="best-practices.html">Best Practices</a></li>
             <li><a href="getting_help.html">Getting Help</a></li>
          </ul>
        </li>
                <li class="dropdown">
          <a href="authoring" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Data <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
             <li><a href="data/gapminder-FiveYearData.csv">Gapminder Dataset (csv)</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav pull-right">
          <a class="btn btn-primary" href="https://github.com/ateucher/rcourse_site">
            <i class="fa fa-github fa-lg"></i>
            GitHub
          </a>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">


<h1 class="title">Data structures</h1>

</div>


<blockquote>
<h2 id="learning-objectives" class="objectives">Learning Objectives</h2>
<ul>
<li>To be aware of the different types of data</li>
<li>To begin exploring the data.frame, and understand how it’s related to vectors, factors and lists</li>
<li>To be able to ask questions from R about the type, class, and structure of an object.</li>
</ul>
</blockquote>
<p>One of R’s most powerful features is its ability to deal with tabular data - like what you might already have in a spreadsheet or a CSV. Let’s start by making a toy dataset in your <code>data/</code> directory, called <code>feline-data.csv</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coat,weight,likes_string
calico,<span class="fl">2.1</span>,<span class="dv">1</span>
black,<span class="fl">5.0</span>,<span class="dv">0</span>
tabby,<span class="fl">3.2</span>,<span class="dv">1</span></code></pre></div>
<p>We can load this into R via the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;data/feline-data.csv&quot;</span>)
cats</code></pre></div>
<pre><code>##     coat weight likes_string
## 1 calico    2.1            1
## 2  black    5.0            0
## 3  tabby    3.2            1</code></pre>
<p>We can begin exploring our dataset right away, pulling out columns via the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$weight</code></pre></div>
<pre><code>## [1] 2.1 5.0 3.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$coat</code></pre></div>
<pre><code>## [1] calico black  tabby 
## Levels: black calico tabby</code></pre>
<p>We can do other operations on the columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## We discovered that the scale weighs one Kg light:
cats$weight +<span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 4.1 7.0 5.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">paste</span>(<span class="st">&quot;My cat is&quot;</span>, cats$coat)</code></pre></div>
<pre><code>## [1] &quot;My cat is calico&quot; &quot;My cat is black&quot;  &quot;My cat is tabby&quot;</code></pre>
<p>But what about</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$weight +<span class="st"> </span>cats$coat</code></pre></div>
<pre><code>## Warning in Ops.factor(cats$weight, cats$coat): &#39;+&#39; not meaningful for
## factors</code></pre>
<pre><code>## [1] NA NA NA</code></pre>
<p>Understanding what happened here is key to successfully analyzing data in R.</p>
<div id="data-types" class="section level2">
<h2>Data Types</h2>
<p>If you guessed that the last command will return an error because 2.1 plus black is nonsense, you’re right - and you already have some intuition for an important concept in programming called <em>data types</em>. We can ask what type of data something is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(cats$weight)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(cats$coat)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>There are 5 main classes: numeric (double), integers, logical and character. Factor is a special class that we’ll get into later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="fl">1.25</span>)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(1L)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="st">&#39;banana&#39;</span>)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Note the <code>L</code> suffix to insist that a number is an integer. Character classes are always enclosed in quotation marks.</p>
<p>No matter how complicated our analyses become, all data in R is interpreted as one of these basic data types. This strictness has some really important concequences. Try adding another row to your cat data like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tabby,<span class="fl">2.3</span> or <span class="fl">2.4</span>,<span class="dv">1</span></code></pre></div>
<p>Reload your cats data like before, and check what type of data we find in the <code>weight</code> column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;data/feline-data.csv&quot;</span>)
<span class="kw">class</span>(cats$weight)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>Oh no, our weights aren’t numeric anymore! If we try to do the same math we did on them before, we run into trouble:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$weight +<span class="st"> </span><span class="dv">1</span></code></pre></div>
<pre><code>## Warning in Ops.factor(cats$weight, 1): &#39;+&#39; not meaningful for factors</code></pre>
<pre><code>## [1] NA NA NA NA</code></pre>
<p>What happened? When R reads a csv into one of these tables, it insists that everything in a column be the same basic type; if it can’t understand <em>everything</em> in the column as a double, then <em>nobody</em> in the column gets to be a double. The table that R loaded our cats data into is something called a <em>data.frame</em>, and it is our first example of something called a <em>data structure</em> - things that R knows how to build out of the basic data types. In order to successfully use our data in R, we need to understand what these basic data structures are, and how they behave. For now, let’s remove that extra line from our cats data and reload it, while we investigate this behavior further:</p>
<p>feline-data.csv:</p>
<pre><code>coat,weight,likes_string
calico,2.1,1
black,5.0,0   
tabby,3.2,1 </code></pre>
<p>And back in RStudio:</p>
<pre><code>cats &lt;- read.csv(file=&quot;data/feline-data.csv&quot;)</code></pre>
</div>
<div id="vectors-type-coercion" class="section level2">
<h2>Vectors &amp; Type Coercion</h2>
<p>To better understand the behavior we just saw, let’s meet another of the data structures: the <em>vector</em>. All vectors are one of the classes we met above. We can create a vector by calling the function of the same name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">numeric</span>(<span class="dv">5</span>)
x</code></pre></div>
<pre><code>## [1] 0 0 0 0 0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">character</span>(<span class="dv">3</span>)
y</code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<p>Just like you might be familiar with from vectors elsewhere, a vector in R is essentially an ordered list of things, with the special condition that <em>everything in the vector must be the same basic data type</em>.</p>
<p>You can check if something is a vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(x)</code></pre></div>
<pre><code>##  num [1:5] 0 0 0 0 0</code></pre>
<p>The somewhat cryptic output from this command indicates the basic data type found in this vector; the number of things in the vector; and a few examples of what’s actually in the vector. If we similarly do</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(cats$weight)</code></pre></div>
<pre><code>##  num [1:3] 2.1 5 3.2</code></pre>
<p>we see that that’s a vector, too - <em>the columns of data we load into R data.frames are all vectors</em>, and that’s the root of why R forces everything in a column to be the same basic data type.</p>
<blockquote>
<h2 id="discussion-1" class="challenge">Discussion 1</h2>
<p>Why is R so opinionated about what we put in our columns of data? How does this help us?</p>
</blockquote>
<p>You can also make vectors with explicit contents with the <code>c</code> (combine) function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">3</span>)
x</code></pre></div>
<pre><code>## [1] 2 6 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;Goodbye&quot;</span>, <span class="st">&quot;I love data&quot;</span>)
y</code></pre></div>
<pre><code>## [1] &quot;Hello&quot;       &quot;Goodbye&quot;     &quot;I love data&quot;</code></pre>
<p>Given what we’ve learned so far, what do you think the following will produce?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="st">&#39;3&#39;</span>)</code></pre></div>
<p>This is something called <em>type coercion</em>, and it is the source of many surprises and the reason why we need to be aware of the basic data types and how R will interpret them. Consider:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="ot">TRUE</span>)
x</code></pre></div>
<pre><code>## [1] &quot;a&quot;    &quot;TRUE&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="ot">TRUE</span>)
x</code></pre></div>
<pre><code>## [1] 0 1</code></pre>
<p>The coercion rules go: <code>logical</code> -&gt; <code>integer</code> -&gt; <code>numeric</code> -&gt; <code>complex</code> -&gt; <code>character</code>. You can try to force coercion against this flow using the <code>as.</code> functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;0&#39;</span>,<span class="st">&#39;2&#39;</span>,<span class="st">&#39;4&#39;</span>)
x</code></pre></div>
<pre><code>## [1] &quot;0&quot; &quot;2&quot; &quot;4&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(x)
y</code></pre></div>
<pre><code>## [1] 0 2 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span><span class="kw">as.logical</span>(y)
z</code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<p>As you can see, some surprising things can happen when R forces one basic data type into another! Nitty-gritty of type coercion aside, the point is: if your data doesn’t look like what you thought it was going to look like, type coercion may well be to blame; make sure everything is the same type in your vectors and your columns of data.frames, or you will get nasty surprises!</p>
<p>But coercion isn’t a bad thing. For example, <code>likes_string</code> is numeric, but we know that the 1s and 0s actually represent <code>TRUE</code> and <code>FALSE</code> (a common way of representing them). R has special kind of data type called logical, which has two states: <code>TRUE</code> or <code>FALSE</code>, which is exactly what our data represents. We can ‘coerce’ this column to be <code>logical</code> by using the <code>as.logical</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$likes_string</code></pre></div>
<pre><code>## [1] 1 0 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$likes_string &lt;-<span class="st"> </span><span class="kw">as.logical</span>(cats$likes_string)
cats$likes_string</code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<p>You can also append things to an existing vector using the <code>c</code> (combine) function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>)
x</code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(x, <span class="st">&#39;d&#39;</span>)
x</code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<p>You can also make series of numbers:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mySeries &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
mySeries</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="dt">by=</span><span class="fl">0.1</span>)</code></pre></div>
<pre><code>##  [1] 1.0 1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6
## [18] 2.7 2.8 2.9 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9
##  [ reached getOption(&quot;max.print&quot;) -- omitted 61 entries ]</code></pre>
<p>We can ask a few other questions about vectors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">10</span>)
<span class="kw">head</span>(x, <span class="dt">n=</span><span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] 1 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(x, <span class="dt">n=</span><span class="dv">4</span>)</code></pre></div>
<pre><code>## [1]  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(x)</code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Finally, you can give names to elements in your vector, and ask for them that way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">5</span>:<span class="dv">8</span>
<span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)
x</code></pre></div>
<pre><code>## a b c d 
## 5 6 7 8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="st">&#39;b&#39;</span>]</code></pre></div>
<pre><code>## b 
## 6</code></pre>
<div id="missing-values" class="section level3">
<h3>Missing values</h3>
<p>Missing values are represented by <code>NA</code>. Functions such as <code>min</code>, <code>max</code> and <code>mean</code> that require knowledge of all the input values return an <code>NA</code> if one or more values are missing. This behaviour can be altered by setting the <code>na.rm</code> argument to be <code>TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)
<span class="kw">mean</span>(x)</code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
</div>
<div id="factors" class="section level2">
<h2>Factors</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(cats$coat)</code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;black&quot;,&quot;calico&quot;,..: 2 1 3</code></pre>
<p>Another important data structure is called a <em>factor</em>. Factors usually look like character data, but are typically used to represent categorical information. For example, let’s make a vector of strings labeling cat colorations for all the cats in our study:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coats &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;tabby&#39;</span>, <span class="st">&#39;tortoiseshell&#39;</span>, <span class="st">&#39;tortoiseshell&#39;</span>, <span class="st">&#39;black&#39;</span>, <span class="st">&#39;tabby&#39;</span>)
coats</code></pre></div>
<pre><code>## [1] &quot;tabby&quot;         &quot;tortoiseshell&quot; &quot;tortoiseshell&quot; &quot;black&quot;        
## [5] &quot;tabby&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(coats)</code></pre></div>
<pre><code>##  chr [1:5] &quot;tabby&quot; &quot;tortoiseshell&quot; &quot;tortoiseshell&quot; &quot;black&quot; ...</code></pre>
<p>We can turn a vector into a factor like so:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">CATegories &lt;-<span class="st"> </span><span class="kw">as.factor</span>(coats)
<span class="kw">str</span>(CATegories)</code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;black&quot;,&quot;tabby&quot;,..: 2 3 3 1 2</code></pre>
<p>Now R has noticed that there are three possible categories in our data - but it also did something surprising; instead of printing out the strings we gave it, we got a bunch of numbers instead. R has replaced our human-readable categories with numbered indices under the hood:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(coats)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(coats)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(CATegories)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(CATegories)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<blockquote>
<h2 id="challenge-2" class="challenge">Challenge 2</h2>
<p>When we loaded our <code>cats</code> data, the coats column was interpreted as a factor; try using the help for <code>read.csv</code> to figure out how to keep text columns as character vectors instead of factors; then write a command or two to show that the cats$coats column actually is a character vector when loaded in this way.</p>
</blockquote>
<p>In modeling functions, it’s important to know what the baseline levels are. This is assumed to be the first factor, but by default factors are labeled in alphabetical order. You can change this by specifying the levels:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mydata &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;case&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;control&quot;</span>, <span class="st">&quot;case&quot;</span>)
x &lt;-<span class="st"> </span><span class="kw">factor</span>(mydata, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;case&quot;</span>))
<span class="kw">str</span>(x)</code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;control&quot;,&quot;case&quot;: 2 1 1 2</code></pre>
<p>In this case, we’ve explicitly told R that “control” should represented by 1, and “case” by 2. This designation can be very important for interpreting the results of statistical models!</p>
</div>
<div id="lists" class="section level2">
<h2>Lists</h2>
<p>Another data structure you’ll want in your bag of tricks is the <code>list</code>. A list is simpler in some ways than the other types, because you can put anything you want in it:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="ot">TRUE</span>, <span class="dv">1</span>+4i)
x</code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] 1+4i</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;a&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">title =</span> <span class="st">&quot;Research Bazaar&quot;</span>, <span class="dt">numbers =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">data =</span> <span class="ot">TRUE</span> )
x</code></pre></div>
<pre><code>## $title
## [1] &quot;Research Bazaar&quot;
## 
## $numbers
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## $data
## [1] TRUE</code></pre>
<p>We can now understand something a bit surprising in our data.frame; what happens if we run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(cats)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>We see that data.frames look like lists ‘under the hood’ - this is because a data.frame is really a list of vectors and factors, as they have to be - in order to hold those columns that are a mix of vectors and factors, the data.frame needs something a bit more flexible than a vector to put all the columns together into a familiar table.</p>
</div>
<div id="matrices" class="section level2">
<h2>Matrices</h2>
<p>Last but not least is the matrix. We can declare a matrix full of zeros:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">ncol=</span><span class="dv">6</span>, <span class="dt">nrow=</span><span class="dv">3</span>)
x</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    0    0    0    0    0    0
## [2,]    0    0    0    0    0    0
## [3,]    0    0    0    0    0    0</code></pre>
<p>and we can ask for and put values in the elements of our matrix with a couple of different notations:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>,<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
x</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    1    0    0    0    0    0
## [2,]    0    0    0    0    0    0
## [3,]    0    0    0    0    0    0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>][<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>][<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">2</span>
x[<span class="dv">1</span>,<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    2    0    0    0    0    0
## [2,]    0    0    0    0    0    0
## [3,]    0    0    0    0    0    0</code></pre>
<blockquote>
<h2 id="challenge-3" class="challenge">Challenge 3</h2>
<p>What do you think will be the result of <code>length(x)</code>? Try it. Were you right? Why / why not?</p>
</blockquote>
<blockquote>
<h2 id="challenge-4" class="challenge">Challenge 4</h2>
<p>Make another matrix, this time containing the numbers 1:50, with 5 columns and 10 rows. Did the <code>matrix</code> function fill your matrix by column, or by row, as its default behaviour? See if you can figure out how to change this. (hint: read the documentation for <code>matrix</code>!)</p>
</blockquote>
<blockquote>
<h2 id="challenge-5" class="challenge">Challenge 5</h2>
<p>Create a list of length two containing a character vector for each of the sections in this part of the workshop:</p>
<ul>
<li>Data types</li>
<li>Data structures</li>
</ul>
<p>Populate each character vector with the names of the data types and data structures we’ve seen so far.</p>
</blockquote>
</div>
<div id="challenge-solutions" class="section level2">
<h2>Challenge solutions</h2>
<p>Solutions to challenges</p>
<blockquote>
<h2 id="discussion-1-1" class="challenge">Discussion 1</h2>
<p>By keeping everything in a column the same, we allow ourselves to make simple assumptions about our data; if you can interpret one entry in the column as a number, then you can interpret <em>all</em> of them as numbers, so we don’t have to check every time. This consistency, like consistently using the same separator in our data files, is what people mean when they talk about <em>clean data</em>; in the long run, strict consistency goes a long way to making our lives easier in R.</p>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-1" class="challenge">Solution to Challenge 1</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">11</span>:<span class="dv">20</span>
subset &lt;-<span class="st"> </span>x[<span class="dv">3</span>:<span class="dv">5</span>]
<span class="kw">names</span>(subset) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;S&#39;</span>, <span class="st">&#39;W&#39;</span>, <span class="st">&#39;C&#39;</span>)</code></pre></div>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-2" class="challenge">Solution to Challenge 2</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;data/feline-data.csv&quot;</span>, <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)
<span class="kw">str</span>(cats$coat)</code></pre></div>
<pre><code>##  chr [1:3] &quot;calico&quot; &quot;black&quot; &quot;tabby&quot;</code></pre>
<p>Note: new students find the help files difficult to understand; make sure to let them know that this is typical, and encourage them to take their best guess based on semantic meaning, even if they aren’t sure.</p>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-3" class="challenge">Solution to challenge 3</h2>
<p>What do you think will be the result of <code>length(x)</code>?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">ncol=</span><span class="dv">6</span>, <span class="dt">nrow=</span><span class="dv">3</span>)
<span class="kw">length</span>(x)</code></pre></div>
<pre><code>## [1] 18</code></pre>
<p>Because a matrix is really just a vector with added dimension attributes, <code>length</code> gives you the total number of elements in the matrix.</p>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-4" class="challenge">Solution to challenge 4</h2>
<p>Make another matrix, this time containing the numbers 1:50, with 5 columns and 10 rows. Did the <code>matrix</code> function fill your matrix by column, or by row, as its default behaviour? See if you can figure out how to change this. (hint: read the documentation for <code>matrix</code>!)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">50</span>, <span class="dt">ncol=</span><span class="dv">5</span>, <span class="dt">nrow=</span><span class="dv">10</span>)
x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">50</span>, <span class="dt">ncol=</span><span class="dv">5</span>, <span class="dt">nrow=</span><span class="dv">10</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>) <span class="co"># to fill by row</span></code></pre></div>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-5" class="challenge">Solution to Challenge 5</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dataTypes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;double&#39;</span>, <span class="st">&#39;complex&#39;</span>, <span class="st">&#39;integer&#39;</span>, <span class="st">&#39;character&#39;</span>, <span class="st">&#39;logical&#39;</span>)
dataStructures &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;data.frame&#39;</span>, <span class="st">&#39;vector&#39;</span>, <span class="st">&#39;factor&#39;</span>, <span class="st">&#39;list&#39;</span>, <span class="st">&#39;matrix&#39;</span>)
answer &lt;-<span class="st"> </span><span class="kw">list</span>(dataTypes, dataStructures)</code></pre></div>
<p>Note: it’s nice to make a list in big writing on the board or taped to the wall listing all of these types and structures - leave it up for the rest of the workshop to remind people of the importance of these basics.</p>
</blockquote>
</div>
<div id="exploring-data-frames" class="section level1">
<h1>Exploring Data Frames</h1>
<blockquote>
<h2 id="learning-objectives-1" class="objectives">Learning Objectives</h2>
<ul>
<li>To learn how to manipulate a data.frame in memory</li>
<li>To tour some best practices of exploring and understanding a data.frame when it is first loaded.</li>
</ul>
</blockquote>
<p>At this point, you’ve see it all - in the last lesson, we toured all the basic data types and data structures in R. Everything you do will be a manipulation of those tools. But a whole lot of the time, the star of the show is going to be the data.frame - that table that we started with that information from a CSV gets dumped into when we load it. In this lesson, we’ll learn a few more things about working with data.frame.</p>
<p>We learned last time that the columns in a data.frame were vectors, so that our data are consistent in type throughout the column. As such, we can perform operations on them just as we did with vectors</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculate weight of cats in g</span>
cats$weight *<span class="st"> </span><span class="dv">1000</span></code></pre></div>
<pre><code>## [1] 2100 5000 3200</code></pre>
<p>We can also assign this result to a new column in the data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats$weight_kg &lt;-<span class="st"> </span>cats$weight *<span class="st"> </span><span class="dv">1000</span>
cats</code></pre></div>
<pre><code>##     coat weight likes_string weight_kg
## 1 calico    2.1            1      2100
## 2  black    5.0            0      5000
## 3  tabby    3.2            1      3200</code></pre>
<p>Our new column has appeared!</p>
<blockquote>
<h2 id="discussion-1-2" class="challenge">Discussion 1</h2>
<p>What do you think</p>
<pre><code>cats$weight[4]</code></pre>
<p>will print at this point?</p>
</blockquote>
<p>So far, you’ve seen the basics of manipulating data.frames with our cat data; now, let’s use those skills to digest a more realistic dataset.</p>
<div id="reading-in-data" class="section level2">
<h2>Reading in data</h2>
<p>Remember earlier we obtained the gapminder dataset, which contains GDP ,population, and life expentancy for many countries around the world. ‘<a href="https://youtu.be/BPt8ElTQMIg?t=13">Gapminder</a>’.</p>
<p>If you’re curious about where this data comes from you might like to look at the <a href="http://www.gapminder.org/data/documentation/">Gapminder website</a>.</p>
<p>Let’s first open up the data in Excel, an environment we’re familiar with, to have a quick look.</p>
<p>Now we want to load the gapminder data into R.</p>
<p>As its file extension would suggest, the file contains comma-separated values, and seems to contain a header row.</p>
<p>We can use <code>read.csv</code> to read this into R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminder &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;data/gapminder-FiveYearData.csv&quot;</span>)
<span class="kw">head</span>(gapminder)</code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811
##  [ reached getOption(&quot;max.print&quot;) -- omitted 1 row ]</code></pre>
<blockquote>
<h2 id="miscellaneous-tips" class="callout">Miscellaneous Tips</h2>
<ol style="list-style-type: decimal">
<li><p>Another type of file you might encounter are tab-separated format. You can use <code>read.delim</code> to read in tab-separated files.</p></li>
<li><p>If your file uses a different separater, the more generic <code>read.table</code> will let you specifiy it with the <code>sep</code> argument.</p></li>
<li><p>You can also read in files from the Internet by replacing the file paths with a web address.</p></li>
<li><p>You can read directly from excel spreadsheets without converting them to plain text first by using the <code>xlsx</code> package.</p></li>
</ol>
</blockquote>
<p>To make sure our analysis is reproducible, we should put the code into a script file so we can come back to it later.</p>
<blockquote>
<h2 id="challenge-3-1" class="challenge">Challenge 3</h2>
<p>Go to file -&gt; new file -&gt; R script, and write an R script to load in the gapminder dataset.</p>
<p>Run the script using the <code>source</code> function, using the file path as its argument (or by pressing the “source” button in RStudio).</p>
</blockquote>
</div>
<div id="using-data-frames-the-gapminder-dataset" class="section level2">
<h2>Using data frames: the <code>gapminder</code> dataset</h2>
<p>To recap what we’ve just learned, let’s have a look at our example data (life expectancy in various countries for various years).</p>
<p>Remember, there are a few functions we can use to interrogate data structures in R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>() <span class="co"># what is the data structure?</span>
<span class="kw">length</span>() <span class="co"># how long is it? What about two dimensional objects?</span>
<span class="kw">attributes</span>() <span class="co"># does it have any metadata?</span>
<span class="kw">str</span>() <span class="co"># A full summary of the entire object</span>
<span class="kw">dim</span>() <span class="co"># Dimensions of the object - also try nrow(), ncol()</span></code></pre></div>
<p>Let’s use them to explore the gapminder dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(gapminder)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>The gapminder data is stored in a “data.frame”. This is the default data structure when you read in data, and (as we’ve heard) is useful for storing data with mixed types of columns.</p>
<p>Let’s look at some of the columns.</p>
<blockquote>
<h2 id="challenge-4-data-types-in-a-real-dataset" class="challenge">Challenge 4: Data types in a real dataset</h2>
<p>Look at the first 6 rows of the gapminder data frame we loaded before:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gapminder)</code></pre></div>
<pre><code>##       country year      pop continent lifeExp gdpPercap
## 1 Afghanistan 1952  8425333      Asia  28.801  779.4453
## 2 Afghanistan 1957  9240934      Asia  30.332  820.8530
## 3 Afghanistan 1962 10267083      Asia  31.997  853.1007
## 4 Afghanistan 1967 11537966      Asia  34.020  836.1971
## 5 Afghanistan 1972 13079460      Asia  36.088  739.9811
##  [ reached getOption(&quot;max.print&quot;) -- omitted 1 row ]</code></pre>
<p>Write down what data type you think is in each column</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(gapminder$year)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(gapminder$lifeExp)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Can anyone guess what we should expect the type of the continent column to be?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(gapminder$continent)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>If you were expecting a the answer to be “character”, you would rightly be surprised by the answer.</p>
<p>One of the default behaviours of R is to treat any text columns as “factors” when reading in data. The reason for this is that text columns often represent categorical data, which need to be factors to be handled appropriately by the statistical modeling functions in R.</p>
<p>However it’s not obvious behaviour, and something that trips many people up. We can disable this behaviour when we read in the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminder &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;data/gapminder-FiveYearData.csv&quot;</span>, 
                      <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre></div>
<blockquote>
<h2 id="tip" class="callout">Tip</h2>
<p>I <em>highly</em> recommend burning this pattern into your memory, or getting it tattooed onto your arm.</p>
</blockquote>
<p>The first thing you should do when reading data in, is check that it matches what you expect, even if the command ran without warnings or errors. The <code>str</code> function, short for “structure”, is really useful for this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(gapminder)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1704 obs. of  6 variables:
##  $ country  : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...
##  $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
##  $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...
##  $ continent: chr  &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ...
##  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...
##  $ gdpPercap: num  779 821 853 836 740 ...</code></pre>
<p>We can see that the object is a <code>data.frame</code> with 1,704 observations (rows), and 6 variables (columns). Below that, we see the name of each column, followed by a “:”, followed by the type of variable in that column, along with the first few entries.</p>
<p>As discussed above, we can retrieve or modify the column or row names of the data.frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colnames</span>(gapminder)  </code></pre></div>
<pre><code>## [1] &quot;country&quot;   &quot;year&quot;      &quot;pop&quot;       &quot;continent&quot; &quot;lifeExp&quot;   &quot;gdpPercap&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">copy &lt;-<span class="st"> </span>gapminder
<span class="kw">colnames</span>(copy) &lt;-<span class="st"> </span>letters[<span class="dv">1</span>:<span class="dv">6</span>]
<span class="kw">head</span>(copy, <span class="dt">n=</span><span class="dv">3</span>)</code></pre></div>
<pre><code>##             a    b        c    d      e        f
## 1 Afghanistan 1952  8425333 Asia 28.801 779.4453
## 2 Afghanistan 1957  9240934 Asia 30.332 820.8530
## 3 Afghanistan 1962 10267083 Asia 31.997 853.1007</code></pre>
<blockquote>
<h2 id="challenge-5-1" class="challenge">Challenge 5</h2>
<p>Recall that we also used the <code>names</code> function (above) to modify column names. Does it matter which you use? You can check help with <code>?names</code> and <code>?colnames</code> to see whether it should matter.</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rownames</span>(gapminder)[<span class="dv">1</span>:<span class="dv">20</span>]</code></pre></div>
<pre><code>##  [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot;
## [15] &quot;15&quot; &quot;16&quot; &quot;17&quot; &quot;18&quot; &quot;19&quot; &quot;20&quot;</code></pre>
<p>See those numbers in the square brackets on the left? That tells you the number of the first entry in that row of output. So we see that for the 5th row, the rowname is “5”. In this case, the rownames are simply the row numbers.</p>
</div>
<div id="challenge-solutions-1" class="section level2">
<h2>Challenge Solutions</h2>
<p>Solutions to challenges 2 &amp; 3.</p>
<blockquote>
<h2 id="solution-to-challenge-2-1" class="challenge">Solution to Challenge 2</h2>
<p>Create a data frame that holds the following information for yourself:</p>
<ul>
<li>First name</li>
<li>Last name</li>
<li>Age</li>
</ul>
<p>Then use rbind to add the same information for the people sitting near you.</p>
<p>Now use cbind to add a column of logicals answering the question, “Is there anything in this workshop you’re finding confusing?”</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">first_name =</span> <span class="st">&quot;Andy&quot;</span>, <span class="dt">last_name =</span> <span class="st">&quot;Teucher&quot;</span>, <span class="dt">age =</span> <span class="dv">36</span>)
my_df &lt;-<span class="st"> </span><span class="kw">rbind</span>(my_df, <span class="kw">data.frame</span>(<span class="dt">first_name =</span> <span class="st">&quot;Jane&quot;</span>, <span class="dt">last_name =</span> <span class="st">&quot;Smith&quot;</span>, <span class="dt">age =</span> <span class="dv">29</span>))
my_df &lt;-<span class="st"> </span><span class="kw">rbind</span>(my_df, <span class="kw">data.frame</span>(<span class="dt">first_name =</span> <span class="kw">c</span>(<span class="st">&quot;Jo&quot;</span>, <span class="st">&quot;John&quot;</span>), <span class="dt">last_name =</span> <span class="kw">c</span>(<span class="st">&quot;White&quot;</span>, <span class="st">&quot;Lee&quot;</span>), <span class="dt">age =</span> <span class="kw">c</span>(<span class="dv">23</span>, <span class="dv">41</span>)))
my_df &lt;-<span class="st"> </span><span class="kw">cbind</span>(my_df, <span class="dt">confused =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>))</code></pre></div>
</blockquote>
<blockquote>
<h2 id="solution-to-challenge-5-1" class="challenge">Solution to Challenge 5</h2>
<p><code>?colnames</code> tells you that the <code>colnames</code> function is the same as <code>names</code> for a data frame. For other structures, they may not be the same. In particular, <code>names</code> does not work for matrices, but <code>colnames</code> does. You can verify this with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">9</span>, <span class="dt">nrow=</span><span class="dv">3</span>)
<span class="kw">colnames</span>(m) &lt;-<span class="st"> </span>letters[<span class="dv">1</span>:<span class="dv">3</span>] <span class="co"># works as you would expect</span>
<span class="kw">names</span>(m) &lt;-<span class="st"> </span>letters[<span class="dv">1</span>:<span class="dv">3</span>]  <span class="co"># destroys the matrix</span></code></pre></div>
</blockquote>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
