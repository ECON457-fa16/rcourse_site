<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Getting started with data</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="libs/bootstrap-2.3.2/css/flatly.min.css" rel="stylesheet" />
<link href="libs/bootstrap-2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
<script src="libs/bootstrap-2.3.2/js/bootstrap.min.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
padding-top: 50px;
padding-bottom: 40px;
}
@media (max-width: 979px) {
body {
padding-top: 0;
}
}
/* offset scroll position for anchor links (for fixed navbar) */
@media (min-width: 980px) {
.section h2 {
padding-top: 52px;
margin-top: -52px;
}
.section h3 {
padding-top: 52px;
margin-top: -52px;
}
}
/* don't use link color in navbar */
.dropdown-menu>li>a {
color: white;
}
</style>

<link rel="stylesheet" href="libs/font-awesome-4.2.0/css/font-awesome.min.css"/>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; }
code > span.dt { color: #204a87; }
code > span.dv { color: #0000cf; }
code > span.bn { color: #0000cf; }
code > span.fl { color: #0000cf; }
code > span.ch { color: #4e9a06; }
code > span.st { color: #4e9a06; }
code > span.co { color: #8f5902; font-style: italic; }
code > span.ot { color: #8f5902; }
code > span.al { color: #ef2929; }
code > span.fu { color: #000000; }
code > span.er { font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="container-fluid main-container">

<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li><a href="/rcourse_site/">Home</a></li>
          <li class="dropdown">
            <a href="notes" class="dropdown-toggle" data-toggle="dropdown">Course Notes <b class="caret"></b></a>
            <ul class="dropdown-menu">
               <li><a href="basics.html">Basics</a></li>
               <li><a href="00-introduction.html">Introduction</a></li>
               <li><a href="01-starting-with-data.html">Starting With Data</a></li>
               <li><a href="02-dplyr.html">Data Munging with dplyr</a></li>
               <li><a href="03-plotting.html">Plotting with ggplot2</a></li>
               <li><a href="04-basic_stats.html">Basic Statistics</a></li>
               <li><a href="05-repeating-things.html">Repeating Things</a></li>
               <li><a href="06-functions.html">Functions</a></li>
               <li><a href="07-all-together.html">Putting it all Together</a></li>
               <li><a href="08-best-practices.html">Best Practices</a></li>
               <li><a href="getting_help.html">Getting Help</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="data" class="dropdown-toggle" data-toggle="dropdown">Data <b class="caret"></b></a>
            <ul class="dropdown-menu">
               <li><a href="data/iris.csv">Iris Dataset (csv)</a></li>
               <li><a href="data/iris.zip">Iris Dataset (zip)</a></li>
               <li><a href="data/toothgrowth.csv">Toothgrowth (csv)</a></li>
            </ul>
          </li>
        </ul>
        <ul class="nav pull-right">
          <a class="btn btn-primary" href="https://github.com/ateucher/rcourse_site">
            <i class="fa fa-github fa-lg"></i>
            GitHub
          </a>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>

<div id="header">
<h1 class="title">Getting started with data</h1>
</div>


<p>** The structure and much of the content in this module was borrowed from <a href="http://www.softwarecarpentry.org">Software Carpentry</a>’s <a href="https://github.com/swcarpentry/bc/tree/master/novice/r">novice R Bootcamp material</a> (Copyright (c) Software Carpentry), which they make available for reuse under the Creative Commons Attribution <a href="http://creativecommons.org/licenses/by/3.0/">(CC_BY)</a> license.</p>
<div id="analyzing-iris-data" class="section level2">
<h2>Analyzing Iris Data</h2>
<p>We are studying differences in morphology in two species of Iris: <em>Iris setosa</em> and <em>Iris versicolor</em>.</p>
<div id="we-want-to" class="section level3">
<h3>We want to:</h3>
<ul>
<li>load that data into R,</li>
<li>Explore the data,</li>
<li>Calculate some summary statistics,</li>
<li>Explore the dataset visually,</li>
<li>plot the results</li>
</ul>
<p>To do all that, we’ll have to learn a little bit about programming in R.</p>
</div>
<div id="objectives" class="section level3">
<h3>Objectives</h3>
<ul>
<li>Read tabular data from a spreadsheet file into <strong>R</strong>.</li>
<li>Assign values to variables.</li>
<li>Learn about data types and structures</li>
<li>Select individual values and subsections from data</li>
<li>Perform operations on data frames</li>
<li>Explain what a package is, and what packages are used for.</li>
<li>Load an R package and use the things it contains</li>
</ul>
</div>
<div id="working-directory" class="section level3">
<h3>Working Directory</h3>
<p>Each R session is associated with a folder on your computer that is referred to as the working directory. To view the contents of the working directory go to the Files window in the bottom right pane. To change the working directory use the</p>
<p><strong>Exercise 10:</strong> <em>Create a new folder on your home drive called RCourse and make this folder the working directory. To ensure you have been successful confirm that the output of <code>getwd()</code> refers to your RCourse folder.</em></p>
</div>
<div id="rstudio-projects" class="section level3">
<h3>RStudio Projects</h3>
<p>Instead of setting the working directory each time you restart RStudio you can associate the contents of a folder with a <em>project</em> - then all you have to do is to open that project. Projects in RStudio help us keep our code, data, and outputs well organized</p>
<p>To create a new project use the <strong>New Project</strong> command (available on the <strong>File</strong> menu of the global toolbar).</p>
<p><strong>Exercise 11:</strong> <em>Create a new project called RCourse in the RCourse folder on your desktop. As the folder already exists choose the <strong>Create project from: Existing Directory</strong> option. To confirm you were successful quit RStudio and double-click the RCourse.Rproj file in the RCourse folder - RStudio should restart with RCourse as the working directory.</em></p>
</div>
</div>
<div id="scripts" class="section level2">
<h2>Scripts</h2>
<p>Rather than entering expressions into R one by one in the console, a more efficient method is to type the expressions into a text file called a <em>script</em> and then send all (or a subset) of them to R at the same time. R scripts are indicated by the suffix <code>.R</code>.</p>
<p>Open a new script using the “R Script”&quot; option of the New option in the File menu.</p>
<p>Now save the script in your working directory as <code>iris.R</code>.</p>
<ul>
<li>Lines beginning with <code>#</code> are ignored by R. Comment your code liberally using <code>#</code>. Your future self will thank you.</li>
<li>Start by typing the following at the top of your script:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># This is my first script.  We are going to learn about irises.</span></code></pre>
</div>
<div id="loading-data" class="section level2">
<h2>Loading Data</h2>
<p>To load our iris data, we need to download our data to a place we can use it. We will use the function <code>dir.create()</code> to create a <code>data</code> directory in our project directory, and <code>read.csv()</code> to load the data file. These are built-in functions in R. Let’s check out the help screen.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir.create</span>(<span class="st">&quot;data&quot;</span>)</code></pre>
<ul>
<li>download the iris file</li>
<li>put it in your data directory for these exercises</li>
</ul>
<div id="comma-separated-files" class="section level3">
<h3>Comma Separated Files</h3>
<p>The simplest way to input and output data is in the form of comma separated files. Comma separated files, which have the suffix <strong>.csv</strong>, are recognised by almost all statistical and spreadsheet programs including R and Excel.</p>
<p>Load the data into R:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read.csv</span>(<span class="st">&#39;data/iris.csv&#39;</span>)</code></pre>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 1            5.1         3.5          1.4         0.2     setosa
## 2            4.9         3.0          1.4         0.2     setosa
## 3            4.7         3.2          1.3         0.2     setosa
## 4            4.6         3.1          1.5         0.2     setosa
## 5            5.0         3.6          1.4         0.2     setosa
## 6            5.4         3.9          1.7         0.4     setosa
## 7            4.6         3.4          1.4         0.3     setosa
## 8            5.0         3.4          1.5         0.2     setosa
## 9            4.4         2.9          1.4         0.2     setosa
## 10           4.9         3.1          1.5         0.1     setosa
## 11           5.4         3.7          1.5         0.2     setosa
## 12           4.8         3.4          1.6         0.2     setosa
## 13           4.8         3.0          1.4         0.1     setosa
## 14           4.3         3.0          1.1         0.1     setosa
## 15           5.8         4.0          1.2         0.2     setosa
## 16           5.7         4.4          1.5         0.4     setosa
## 17           5.4         3.9          1.3         0.4     setosa
## 18           5.1         3.5          1.4         0.3     setosa
## 19           5.7         3.8          1.7         0.3     setosa
## 20           5.1         3.8          1.5         0.3     setosa
##  [ reached getOption(&quot;max.print&quot;) -- omitted 130 rows ]</code></pre>
<p>The expression <code>read.csv()</code> is a function that asks R to load a <code>.csv</code> file into R’s workspace as a data frame.</p>
<p><code>read.csv()</code> has many arguments including the name of the file we want to read, and the delimiter that separates values on a line.</p>
<p>When we are finished typing and press <code>Control+Enter</code> on Windows or <code>Cmd + Return</code> on Mac, the console runs our command. Since we haven’t told it to do anything else with the function’s output, the console displays it. In this case, that output is the data we just loaded.</p>
<p>Our call to <code>read.csv()</code> read the file, but didn’t save the data as an object. To do that, we need to assign the data frame to a variable.</p>
<p>Now that we know how to assign things to variables, let’s re-run <code>read.csv</code> and save its result:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&#39;data/iris.csv&#39;</span>)</code></pre>
<p>This statement doesn’t produce any output because assignment doesn’t display anything. If we want to check that our data has been loaded, we can print the variable’s value:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat</code></pre>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 1            5.1         3.5          1.4         0.2     setosa
## 2            4.9         3.0          1.4         0.2     setosa
## 3            4.7         3.2          1.3         0.2     setosa
## 4            4.6         3.1          1.5         0.2     setosa
## 5            5.0         3.6          1.4         0.2     setosa
## 6            5.4         3.9          1.7         0.4     setosa
## 7            4.6         3.4          1.4         0.3     setosa
## 8            5.0         3.4          1.5         0.2     setosa
## 9            4.4         2.9          1.4         0.2     setosa
## 10           4.9         3.1          1.5         0.1     setosa
## 11           5.4         3.7          1.5         0.2     setosa
## 12           4.8         3.4          1.6         0.2     setosa
## 13           4.8         3.0          1.4         0.1     setosa
## 14           4.3         3.0          1.1         0.1     setosa
## 15           5.8         4.0          1.2         0.2     setosa
## 16           5.7         4.4          1.5         0.4     setosa
## 17           5.4         3.9          1.3         0.4     setosa
## 18           5.1         3.5          1.4         0.3     setosa
## 19           5.7         3.8          1.7         0.3     setosa
## 20           5.1         3.8          1.5         0.3     setosa
##  [ reached getOption(&quot;max.print&quot;) -- omitted 130 rows ]</code></pre>
<p>It’s important to note that anything we do with <code>dat</code> here will not affect the original <code>csv</code> file. <code>dat</code> is a copy of your data inside R. This is an important concept of reproducibility - don’t touch your original data!</p>
<p>For large data sets it is convenient to use the <code>head()</code> to display the first few rows of data, or <code>tail()</code> to see the end:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(dat)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(dat)</code></pre>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 145          6.7         3.3          5.7         2.5 virginica
## 146          6.7         3.0          5.2         2.3 virginica
## 147          6.3         2.5          5.0         1.9 virginica
## 148          6.5         3.0          5.2         2.0 virginica
## 149          6.2         3.4          5.4         2.3 virginica
## 150          5.9         3.0          5.1         1.8 virginica</code></pre>
<p>In RStudio’s environment pane, you can also click on the little table icon next to the data frame name.</p>
<p><strong>BREAK</strong></p>
<ul>
<li>Make sure everyone has imported the data</li>
<li>How many rows and columns there are</li>
<li>What kind of data type is it?</li>
</ul>
</div>
</div>
<div id="manipulating-data" class="section level2">
<h2>Manipulating Data</h2>
<p>Now that our data is in memory, we can start doing things with it. First, let’s ask what type of thing <code>dat</code> <em>is</em>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(dat)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>The output tells us that data currently is a data frame in R. This is similar to a spreadsheet in MS Excel, that many of us are familiar with using.</p>
<div id="data-frames" class="section level3">
<h3>data frames</h3>
<p>The <em>de facto</em> data structure for most tabular data and what we use for statistics.</p>
<p>Some additional information on data frames:</p>
<ul>
<li>Usually created by <code>read.csv()</code> and <code>read.table()</code>.</li>
<li>Can also create with <code>data.frame()</code> function.</li>
</ul>
<p>Lets find out a little bit more about <code>dat</code>:</p>
<div id="useful-data-frame-functions" class="section level4">
<h4>Useful data frame functions</h4>
<ul>
<li><code>head()</code> - shown first 6 rows</li>
<li><code>tail()</code> - show last 6 rows</li>
<li><code>dim()</code> - returns the dimensions</li>
<li><code>nrow()</code> - number of rows</li>
<li><code>ncol()</code> - number of columns</li>
<li><code>str()</code> - structure of of data frame - number of rows/columns and data type of each column</li>
<li><code>summary()</code> - summarises each column</li>
<li><code>names()</code> - gives the column names</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(dat)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(dat)</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.063   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.400   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##                  NA&#39;s   :5                                      
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
##                 
## </code></pre>
<p>We can see what its shape is like this:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(dat)</code></pre>
<pre><code>## [1] 150</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(dat)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>This tells us that <code>dat</code> has 150 rows and 5 columns.</p>
</div>
</div>
<div id="referencing-columns" class="section level3">
<h3>Referencing Columns</h3>
<p>When referencing a column, the <code>$</code> operator is used to separate the data frame and the column name. Remember how we talked about vectors and how important they are? In a data frame, each column is a <em>vector</em> of the same length. Let’s look at the petal widths:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat$Petal.Width</code></pre>
<pre><code>##   [1] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 0.2 0.2 0.1 0.1 0.2 0.4 0.4
##  [18] 0.3 0.3 0.3 0.2 0.4 0.2 0.5 0.2 0.2 0.4 0.2 0.2 0.2 0.2 0.4 0.1 0.2
##  [35] 0.2 0.2 0.2 0.1 0.2 0.2 0.3 0.3 0.2 0.6 0.4 0.3 0.2 0.2 0.2 0.2 1.4
##  [52] 1.5 1.5 1.3 1.5 1.3 1.6 1.0 1.3 1.4 1.0 1.5 1.0 1.4 1.3 1.4 1.5 1.0
##  [69] 1.5 1.1 1.8 1.3 1.5 1.2 1.3 1.4 1.4 1.7 1.5 1.0 1.1 1.0 1.2 1.6 1.5
##  [86] 1.6 1.5 1.3 1.3 1.3 1.2 1.4 1.2 1.0 1.3 1.2 1.3 1.3 1.1 1.3
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 entries ]</code></pre>
<p>Now say we want to get the mean of the petal widths:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(dat$Petal.Width)</code></pre>
<pre><code>## [1] 1.199333</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(dat$Sepal.Width)</code></pre>
<pre><code>## [1] NA</code></pre>
<p><strong>Exercise 12:</strong> <em>Find the maximum of the sepal widths. Did anything unexpected happen?</em></p>
<p>Let’s have a look at the <code>Sepal.Width</code> column:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat$Sepal.Width <span class="co"># First look at the data - there are some values that are NA.</span></code></pre>
<pre><code>##   [1] 3.5 3.0 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 3.7 3.4 3.0 3.0 4.0 4.4 3.9
##  [18] 3.5 3.8 3.8 3.4 3.7 3.6 3.3 3.4 3.0 3.4 3.5 3.4 3.2 3.1 3.4 4.1 4.2
##  [35] 3.1 3.2 3.5 3.6 3.0 3.4 3.5 2.3  NA 3.5 3.8 3.0 3.8 3.2 3.7 3.3 3.2
##  [52] 3.2 3.1 2.3 2.8 2.8 3.3 2.4 2.9 2.7 2.0 3.0 2.2 2.9 2.9 3.1 3.0 2.7
##  [69] 2.2 2.5 3.2 2.8 2.5 2.8 2.9 3.0 2.8 3.0 2.9 2.6 2.4 2.4 2.7 2.7 3.0
##  [86] 3.4 3.1 2.3 3.0 2.5 2.6 3.0 2.6  NA 2.7 3.0 2.9 2.9 2.5 2.8
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 entries ]</code></pre>
<p><code>NA</code> is a special encoding for a missing value in a vector… look at help file for <code>max()</code>: <code>?max</code>. You’ll see there’s an argument called <code>na.rm</code>, where the default is <code>FALSE</code>. If we change it to true, <code>max</code> ignores the <code>NA</code> values:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(dat$Sepal.Width, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 4.4</code></pre>
<p>You can also use the <code>$</code> operator to reference columns that don’t yet exist, but you would like to create. For example, the measurements in this dataset are in cm, but perhaps we want to compare sepal lengths with another dataset that has measurements in inches:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat$Sepal.Length.in &lt;-<span class="st"> </span>dat$Sepal.Length /<span class="st"> </span><span class="fl">2.54</span>
<span class="kw">head</span>(dat)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
##   Sepal.Length.in
## 1        2.007874
## 2        1.929134
## 3        1.850394
## 4        1.811024
## 5        1.968504
## 6        2.125984</code></pre>
<p><strong>Exercise 13:</strong> <em>Create a new column in <code>dat</code> that contains the ratio of petal length to petal width. Call the column <code>Petal.Ratio</code></em></p>
<p>You can remove columns by assigning <code>NULL</code> to them. <code>NULL</code> is a special term that means nothing. Let’s get rid of those two we just created to get back to our original data frame.</p>
<pre class="sourceCode r"><code class="sourceCode r">dat$Petal.LW.Ratio &lt;-<span class="st"> </span><span class="ot">NULL</span>
dat$Sepal.Length.in &lt;-<span class="st"> </span><span class="ot">NULL</span></code></pre>
</div>
<div id="indexing" class="section level3">
<h3>Indexing</h3>
<p>We talked about vectors before, and indexing them. Each column in a data frame is a vector, and can be indexed as such.</p>
<p>If we want to get a single value from the data frame, we must provide an row and column indices for the value we want in square brackets: <code>dataframe[rows,columns]</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># first value in first column in dat</span>
dat[<span class="dv">1</span>, <span class="dv">1</span>]</code></pre>
<pre><code>## [1] 5.1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># third value in fifth column in dat</span>
dat[<span class="dv">3</span>, <span class="dv">5</span>]</code></pre>
<pre><code>## [1] setosa
## Levels: setosa versicolor virginica</code></pre>
<p>An index like <code>dat[30, 3]</code> selects a single element of data frame, but we can select sections as well. Entering nothing in either the rows or columns spot selects all. For example, we can select the first ten rows across all columns, like this. :</p>
<pre class="sourceCode r"><code class="sourceCode r">dat[<span class="dv">1</span>:<span class="dv">10</span>,]</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<p>The notation <code>1:10</code> means, “Start at index 1 and go to index 10.”</p>
<p>We don’t have to take consecutive values, we can use <code>c()</code> to select certain values or groups of values:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat[<span class="kw">c</span>(<span class="dv">1</span>:<span class="dv">10</span>, <span class="dv">20</span>:<span class="dv">30</span>),]</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa
## 20          5.1         3.8          1.5         0.3  setosa
## 21          5.4         3.4          1.7         0.2  setosa
## 22          5.1         3.7          1.5         0.4  setosa
## 23          4.6         3.6          1.0         0.2  setosa
## 24          5.1         3.3          1.7         0.5  setosa
## 25          4.8         3.4          1.9         0.2  setosa
## 26          5.0         3.0          1.6         0.2  setosa
## 27          5.0         3.4          1.6         0.4  setosa
## 28          5.2         3.5          1.5         0.2  setosa
## 29          5.2         3.4          1.4         0.2  setosa
##  [ reached getOption(&quot;max.print&quot;) -- omitted 1 row ]</code></pre>
<p>Here we have taken rows 1 through 10 and 20 through 30.</p>
<p>Columns can also be referenced by name (in quotes):</p>
<pre class="sourceCode r"><code class="sourceCode r">dat[, <span class="st">&quot;Petal.Length&quot;</span>] <span class="co"># Returns all rows</span></code></pre>
<pre><code>##   [1] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 1.5 1.6 1.4 1.1 1.2 1.5 1.3
##  [18] 1.4 1.7 1.5 1.7 1.5 1.0 1.7 1.9 1.6 1.6 1.5 1.4 1.6 1.6 1.5 1.5 1.4
##  [35] 1.5 1.2 1.3 1.4 1.3 1.5 1.3 1.3 1.3 1.6 1.9 1.4 1.6 1.4 1.5 1.4 4.7
##  [52] 4.5 4.9 4.0 4.6 4.5 4.7 3.3 4.6 3.9 3.5 4.2 4.0 4.7 3.6 4.4 4.5 4.1
##  [69] 4.5 3.9 4.8 4.0 4.9 4.7 4.3 4.4 4.8 5.0 4.5 3.5 3.8 3.7 3.9 5.1 4.5
##  [86] 4.5 4.7 4.4 4.1 4.0 4.4 4.6 4.0 3.3 4.2 4.2 4.2 4.3 3.0 4.1
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 entries ]</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat[, <span class="kw">c</span>(<span class="st">&quot;Petal.Length&quot;</span>, <span class="st">&quot;Species&quot;</span>)]  <span class="co"># Can specify more than one column by using a character vector</span></code></pre>
<pre><code>##     Petal.Length    Species
## 1            1.4     setosa
## 2            1.4     setosa
## 3            1.3     setosa
## 4            1.5     setosa
## 5            1.4     setosa
## 6            1.7     setosa
## 7            1.4     setosa
## 8            1.5     setosa
## 9            1.4     setosa
## 10           1.5     setosa
## 11           1.5     setosa
## 12           1.6     setosa
## 13           1.4     setosa
## 14           1.1     setosa
## 15           1.2     setosa
## 16           1.5     setosa
## 17           1.3     setosa
## 18           1.4     setosa
## 19           1.7     setosa
## 20           1.5     setosa
## 21           1.7     setosa
## 22           1.5     setosa
## 23           1.0     setosa
## 24           1.7     setosa
## 25           1.9     setosa
## 26           1.6     setosa
## 27           1.6     setosa
## 28           1.5     setosa
## 29           1.4     setosa
## 30           1.6     setosa
## 31           1.6     setosa
## 32           1.5     setosa
## 33           1.5     setosa
## 34           1.4     setosa
## 35           1.5     setosa
## 36           1.2     setosa
## 37           1.3     setosa
## 38           1.4     setosa
## 39           1.3     setosa
## 40           1.5     setosa
## 41           1.3     setosa
## 42           1.3     setosa
## 43           1.3     setosa
## 44           1.6     setosa
## 45           1.9     setosa
## 46           1.4     setosa
## 47           1.6     setosa
## 48           1.4     setosa
## 49           1.5     setosa
## 50           1.4     setosa
##  [ reached getOption(&quot;max.print&quot;) -- omitted 100 rows ]</code></pre>
<p><strong>Question:</strong> Given what we learned about how to access a single column, and indexing vectors, what is the 19th value in the Sepal Length column? How did you find it?</p>
<div id="indexing-using-conditionals" class="section level4">
<h4>Indexing using conditionals</h4>
<p>Sometimes we are interested in extracting data based on something else. Lets say we want to look at all of the flowers measured that had really long sepals:</p>
<pre class="sourceCode r"><code class="sourceCode r">mean.sl &lt;-<span class="st"> </span><span class="kw">mean</span>(dat$Sepal.Length) <span class="co"># First find the average sepal length</span>
mean.sl</code></pre>
<pre><code>## [1] 5.843333</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat[dat$Sepal.Length &gt;<span class="st"> </span>mean.sl, ]</code></pre>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 51           7.0         3.2          4.7         1.4 versicolor
## 52           6.4         3.2          4.5         1.5 versicolor
## 53           6.9         3.1          4.9         1.5 versicolor
## 55           6.5         2.8          4.6         1.5 versicolor
## 57           6.3         3.3          4.7         1.6 versicolor
## 59           6.6         2.9          4.6         1.3 versicolor
## 62           5.9         3.0          4.2         1.5 versicolor
## 63           6.0         2.2          4.0         1.0 versicolor
## 64           6.1         2.9          4.7         1.4 versicolor
## 66           6.7         3.1          4.4         1.4 versicolor
## 69           6.2         2.2          4.5         1.5 versicolor
## 71           5.9         3.2          4.8         1.8 versicolor
## 72           6.1         2.8          4.0         1.3 versicolor
## 73           6.3         2.5          4.9         1.5 versicolor
## 74           6.1         2.8          4.7         1.2 versicolor
## 75           6.4         2.9          4.3         1.3 versicolor
## 76           6.6         3.0          4.4         1.4 versicolor
## 77           6.8         2.8          4.8         1.4 versicolor
## 78           6.7         3.0          5.0         1.7 versicolor
## 79           6.0         2.9          4.5         1.5 versicolor
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 rows ]</code></pre>
<p>Let’s break that down a little. <code>dat$Sepal.Length &gt; mean.sl</code> returns a <em>Logical</em> vector of the same length as <code>dat$Sepal.Length</code>; that is a vector of <code>TRUE</code> and <code>FALSE</code> based on testing each element of <code>dat$Sepal.Length</code> to see if it is greater than <code>mean.sl</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">dat$Sepal.Length &gt;<span class="st"> </span>mean.sl</code></pre>
<pre><code>##   [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [23] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [34] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [45] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE
##  [56] FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE
##  [67] FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
##  [78]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE
##  [89] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE
## [100] FALSE
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 entries ]</code></pre>
<p>When you put that logical vector inside the row index, just the rows which are <code>TRUE</code> are returned. This type of conditional indexing is very powerful:</p>
<pre class="sourceCode r"><code class="sourceCode r">dat[dat$Species ==<span class="st"> &quot;setosa&quot;</span>,]</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa
## 11          5.4         3.7          1.5         0.2  setosa
## 12          4.8         3.4          1.6         0.2  setosa
## 13          4.8         3.0          1.4         0.1  setosa
## 14          4.3         3.0          1.1         0.1  setosa
## 15          5.8         4.0          1.2         0.2  setosa
## 16          5.7         4.4          1.5         0.4  setosa
## 17          5.4         3.9          1.3         0.4  setosa
## 18          5.1         3.5          1.4         0.3  setosa
## 19          5.7         3.8          1.7         0.3  setosa
## 20          5.1         3.8          1.5         0.3  setosa
##  [ reached getOption(&quot;max.print&quot;) -- omitted 30 rows ]</code></pre>
<p>what if you want to find the mean of the petal lengths of just <em>Iris setosa</em>?</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(dat[dat$Species ==<span class="st"> &quot;setosa&quot;</span>, <span class="st">&quot;Petal.Length&quot;</span>])</code></pre>
<pre><code>## [1] 1.462</code></pre>
</div>
</div>
</div>
<div id="key-points" class="section level2">
<h2>Key Points</h2>
<ul>
<li>Use <code>variable &lt;- value</code> to assign a value to a variable in order to record it in memory.</li>
<li>Objects are created on demand whenever a value is assigned to them.</li>
<li>Use <code>object[x, y]</code> to select a single element from a data frame.</li>
<li>Use <code>from:to</code> to specify a sequence that includes the indices from <code>from</code> to <code>to</code>.</li>
<li>Use <code>#</code> to add comments to programs.</li>
<li>Use <code>mean()</code>, <code>max()</code>, <code>min()</code> and <code>sd()</code> to calculate simple statistics.</li>
<li>Create and update vectors using <code>c()</code></li>
</ul>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
